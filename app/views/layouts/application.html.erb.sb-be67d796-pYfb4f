<!DOCTYPE html>

<html>
  <head>
    <title>StayApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>
  <body>
    <header>
      <a href="/">
        <img class="header-logo" src="https://presite-potepancamp-rails-02.herokuapp.com/assets/logo.png">
      </a>
      <div class="header-right">
        <% if user_signed_in? %>
          <div class="header-signed-in">
            <div class="user-name">
              <%= current_user.name %>
            </div>
            <div id="nav-wrapper" class="nav-wrapper">
              <div class="signed-in-menu hamburger" id="js-hamburger">
                <%= image_tag current_user.image.present? ? current_user.image.url : "default.jpg", class: "user-icon" %>
              </div>
              <nav class="sp-nav">
                <ul>
                  <li>
                    <%= link_to "ルーム登録", "/rooms/new", class: "nav-content" %>
                  </li>
                  <li>
                    <%= link_to "予約済みルーム一覧", "/reservations", class: "nav-content" %>
                  </li>
                  <li>
                    <%= link_to "登録済みルーム一覧", "/rooms/posts", class: "nav-content" %>
                  </li>
                  <li>
                    <%= link_to "アカウント設定", "/users/account", class: "nav-content" %>
                  </li>
                  <li>
                    <%= link_to "ログアウト", destroy_user_session_path, method: :delete, class: "nav-content" %>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        <% else %>
        <div class="header-right-item">
          <a class="btn login-btn" href="/users/sign_in">ログイン</a>
          <a class="btn sign-up-btn" href="/users/sign_up">登録する</a>
        </div>
        <% end %>
      </div>
    </header>

      <p class="notice"><%= notice %></p>
      <p class="alert"><%= alert %></p>

    <%= yield %>
    <footer>
      <p>© 2020 POTEPAN.INC.</p>
    </footer>
  </body>
</html>
